<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Plus Grid — Thin, Spaced, Equal Margins</title>
<style>
  :root{
    /* Layout */
    --margin: 20px;          /* equal outer margin */
    --bg: #F3F6F6;           /* page background */

    /* Plus look */
    --plus-off: #77797C;     /* idle stroke */
    --plus-on:  #7D97EB;     /* hover stroke */
    --stroke: 1.5px;         /* thinner than before */
    --cell: 18px;            /* smaller symbol box */
    --gap: 20px;             /* more spacing between symbols */
    --arm: 5px;              /* half arm length of the + */
  }

  html, body {
    margin: 0;
    height: 100%;
    overflow: hidden;
    background: var(--bg);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  }

  /* Fill viewport with equal margins */
  .wrap {
    position: fixed;
    inset: var(--margin);
    display: grid;
    /* Center content so any leftover space splits evenly top/bottom and left/right */
    place-content: center;
    box-sizing: border-box;
    background: transparent;
  }

  /* Grid fills the available box; rows/cols computed in JS */
  .grid {
    width: 100%;
    height: 100%;
    display: grid;
    grid-template-columns: repeat(var(--cols, 1), var(--cell));
    grid-auto-rows: var(--cell);
    gap: var(--gap);
  }

  .dot {
    width: var(--cell);
    height: var(--cell);
    display: grid;
    place-items: center;
    user-select: none;
  }

  svg { width: var(--cell); height: var(--cell); overflow: visible; }

  .plus line {
    stroke: var(--plus-off);
    stroke-width: var(--stroke);
    stroke-linecap: round;
    transition: stroke .15s linear, opacity .25s ease, filter .2s ease;
    opacity: .9;
  }

  .dot:hover .plus line,
  .dot._active .plus line {
    stroke: var(--plus-on);
    opacity: 1;
    filter: drop-shadow(0 0 6px rgba(125,151,235,.35)) drop-shadow(0 0 14px rgba(125,151,235,.15));
  }

  @media (max-width: 700px){
    :root { --cell: 16px; --gap: 16px; --arm: 4.5px; }
  }

  /* iOS viewport stability */
  @supports (height: 100dvh) {
    .wrap { height: calc(100dvh - 2 * var(--margin)); }
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="grid" id="grid" aria-hidden="true"></div>
  </div>

<script>
  // Utility
  const css = getComputedStyle(document.documentElement);
  const grid = document.getElementById('grid');
  const num = v => parseFloat(v);

  function readVars(){
    return {
      cell:  num(css.getPropertyValue('--cell')),
      gap:   num(css.getPropertyValue('--gap')),
      arm:   num(css.getPropertyValue('--arm'))
    };
  }

  function calcColsRows(){
    const {cell, gap} = readVars();
    const rect = grid.getBoundingClientRect();
    const cols = Math.max(1, Math.floor((rect.width  + gap) / (cell + gap)));
    const rows = Math.max(1, Math.floor((rect.height + gap) / (cell + gap)));
    return {cols, rows};
  }

  function makePlus(arm){
    const NS = 'http://www.w3.org/2000/svg';
    const s = document.createElementNS(NS, 'svg');
    s.setAttribute('viewBox', '-12 -12 24 24');
    const g = document.createElementNS(NS, 'g'); g.setAttribute('class','plus');

    const h = document.createElementNS(NS, 'line');
    h.setAttribute('x1', -arm); h.setAttribute('y1', 0);
    h.setAttribute('x2',  arm); h.setAttribute('y2', 0);

    const v = document.createElementNS(NS, 'line');
    v.setAttribute('x1', 0); v.setAttribute('y1', -arm);
    v.setAttribute('x2', 0); v.setAttribute('y2',  arm);

    g.appendChild(h); g.appendChild(v); s.appendChild(g);
    return s;
  }

  let lastCols = 0, lastRows = 0;

  function build(){
    const {cols, rows} = calcColsRows();
    if (cols === lastCols && rows === lastRows) return;
    lastCols = cols; lastRows = rows;

    grid.style.setProperty('--cols', cols);

    const {arm} = readVars();
    const frag = document.createDocumentFragment();
    for (let i = 0; i < cols * rows; i++){
      const cell = document.createElement('div');
      cell.className = 'dot';
      cell.appendChild(makePlus(arm));
      frag.appendChild(cell);
    }
    grid.replaceChildren(frag);
  }

  // Optional proximity “flashlight”
  const R = 48; // slightly tighter for smaller symbols
  let gridRect = grid.getBoundingClientRect();
  function refreshRect(){ gridRect = grid.getBoundingClientRect(); }

  function enableFlashlight(){
    grid.addEventListener('mousemove', (e)=>{
      const x = e.clientX - gridRect.left;
      const y = e.clientY - gridRect.top;
      for (const cell of grid.children){
        const r = cell.getBoundingClientRect();
        const cx = r.left - gridRect.left + r.width/2;
        const cy = r.top  - gridRect.top  + r.height/2;
        cell.classList.toggle('_active', Math.hypot(cx - x, cy - y) < R);
      }
    });
    grid.addEventListener('mouseleave', ()=>{
      for (const cell of grid.children) cell.classList.remove('_active');
    });
  }

  const ro = new ResizeObserver(()=>{ refreshRect(); build(); });
  ro.observe(grid);
  window.addEventListener('resize', ()=>{ refreshRect(); build(); });

  build();
  refreshRect();
  enableFlashlight();
</script>
</body>
</html>

